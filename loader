--// FumeUI - Executor-Friendly Roblox UI Library

local FumeUI = {}
local CoreGui = game:GetService("CoreGui")

-- Create the main UI window
function FumeUI:CreateWindow(title)
    local gui = Instance.new("ScreenGui")
    gui.Name = "FumeUI_" .. tostring(math.random(1000, 9999))
    gui.Parent = CoreGui
    gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    gui.ResetOnSpawn = false

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 300, 0, 400)
    frame.Position = UDim2.new(0.5, -150, 0.5, -200)
    frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    frame.BorderSizePixel = 0
    frame.BackgroundTransparency = 0.1
    frame.Name = title or "FumeUI"
    frame.Parent = gui

    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 10)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Parent = frame

    return frame
end

-- Create a button-style section (title separator)
function FumeUI:CreateSection(parent, text)
    local section = Instance.new("TextButton")
    section.Size = UDim2.new(1, -20, 0, 40)
    section.Position = UDim2.new(0, 10, 0, 0)
    section.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    section.BorderSizePixel = 0
    section.TextColor3 = Color3.fromRGB(255, 255, 255)
    section.Font = Enum.Font.Gotham
    section.TextSize = 14
    section.Text = text or "Section"
    section.AutoButtonColor = false
    section.Parent = parent

    return section
end

-- Create a toggle button
function FumeUI:CreateToggle(parent, text, callback)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(1, -20, 0, 40)
    container.BackgroundTransparency = 1
    container.Parent = parent

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -60, 1, 0)
    label.Position = UDim2.new(0, 10, 0, 0)
    label.BackgroundTransparency = 1
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.TextColor3 = Color3.new(1, 1, 1)
    label.Text = text or "Toggle"
    label.Parent = container

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 40, 0, 20)
    button.Position = UDim2.new(1, -50, 0.5, -10)
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.Text = ""
    button.Parent = container

    local state = false
    button.MouseButton1Click:Connect(function()
        state = not state
        button.BackgroundColor3 = state and Color3.fromRGB(0, 255, 127) or Color3.fromRGB(50, 50, 50)
        if callback then callback(state) end
    end)

    return button
end

-- Create a dropdown
function FumeUI:CreateDropdown(parent, title, options, callback)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(1, -20, 0, 40)
    container.BackgroundTransparency = 1
    container.Parent = parent

    local dropdown = Instance.new("TextButton")
    dropdown.Text = title or "Select Option"
    dropdown.Font = Enum.Font.Gotham
    dropdown.TextColor3 = Color3.new(1, 1, 1)
    dropdown.TextSize = 14
    dropdown.Size = UDim2.new(1, -20, 1, 0)
    dropdown.Position = UDim2.new(0, 10, 0, 0)
    dropdown.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    dropdown.Parent = container

    local list = Instance.new("Frame")
    list.Visible = false
    list.Size = UDim2.new(1, -20, 0, #options * 30)
    list.Position = UDim2.new(0, 10, 0, 40)
    list.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    list.BorderSizePixel = 0
    list.Parent = container

    local layout = Instance.new("UIListLayout")
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Parent = list

    for _, opt in ipairs(options) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1, 0, 0, 30)
        btn.Text = opt
        btn.Font = Enum.Font.Gotham
        btn.TextSize = 14
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        btn.Parent = list

        btn.MouseButton1Click:Connect(function()
            dropdown.Text = opt
            list.Visible = false
            if callback then callback(opt) end
        end)
    end

    dropdown.MouseButton1Click:Connect(function()
        list.Visible = not list.Visible
    end)

    return dropdown
end

return FumeUI
